#pragma checksum "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7d6d051f1c72f0296734a2170987a36a3bfb9cf8"
// <auto-generated/>
#pragma warning disable 1591
namespace DungeonRpg.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using DungeonRpg;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\_Imports.razor"
using DungeonRpg.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
using System.Timers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
           [Authorize]

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/editor")]
    public partial class Editor : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "editor");
            __builder.AddMarkupContent(2, "\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "editor-toolbar");
            __builder.AddMarkupContent(5, "\r\n        ");
            __builder.OpenElement(6, "fieldset");
            __builder.AddMarkupContent(7, "\r\n            ");
            __builder.AddMarkupContent(8, "<legend>File</legend>\r\n            ");
            __builder.OpenElement(9, "button");
            __builder.AddAttribute(10, "class", "button-stretch button-small");
            __builder.AddAttribute(11, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 15 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                  () => OpenMap(mapService.New())

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(12, "New");
            __builder.CloseElement();
            __builder.AddMarkupContent(13, "\r\n            ");
            __builder.OpenElement(14, "button");
            __builder.AddAttribute(15, "class", "button-stretch button-small");
            __builder.AddAttribute(16, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 16 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                  Save

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(17, "Save");
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\r\n            ");
            __builder.OpenElement(19, "input");
            __builder.AddAttribute(20, "type", "checkbox");
            __builder.AddAttribute(21, "checked", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 17 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                          EnableAutoSave

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(22, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => EnableAutoSave = __value, EnableAutoSave));
            __builder.SetUpdatesAttributeName("checked");
            __builder.CloseElement();
            __builder.AddMarkupContent(23, " Auto-save <br>\r\n");
#nullable restore
#line 18 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
             if (LastSaveTime != DateTime.MinValue)
            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(24, "                ");
            __builder.OpenElement(25, "span");
            __builder.AddMarkupContent(26, "<b>Last save:</b> ");
            __builder.AddContent(27, 
#nullable restore
#line 20 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                         LastSaveTime

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n");
#nullable restore
#line 21 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
            }
            else if (Map != null)
            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(29, "                ");
            __builder.AddMarkupContent(30, "<b>Not saved</b>\r\n");
#nullable restore
#line 25 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(31, "            <hr>\r\n");
#nullable restore
#line 27 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
             if (Map != null)
            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(32, "                ");
            __builder.OpenElement(33, "b");
            __builder.AddContent(34, 
#nullable restore
#line 29 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                    Map.Name

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(35, " <br>\r\n                ");
            __builder.OpenElement(36, "span");
            __builder.AddContent(37, 
#nullable restore
#line 30 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                       Map.Description

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(38, " <br>\r\n                ");
            __builder.OpenElement(39, "span");
            __builder.AddMarkupContent(40, "<b>Size:</b> ");
            __builder.AddContent(41, 
#nullable restore
#line 31 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                    Map.Width

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(42, " x ");
            __builder.AddContent(43, 
#nullable restore
#line 31 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                 Map.Height

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(44, " <br>\r\n");
#nullable restore
#line 32 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
            }
            else
            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(45, "                ");
            __builder.AddMarkupContent(46, "<i>No map opened</i>\r\n");
#nullable restore
#line 36 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(47, "        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n        ");
            __builder.OpenElement(49, "fieldset");
            __builder.AddMarkupContent(50, "\r\n            ");
            __builder.AddMarkupContent(51, "<legend>Tools</legend>\r\n            ");
            __builder.OpenElement(52, "div");
            __builder.AddMarkupContent(53, "\r\n                ");
            __builder.OpenElement(54, "table");
            __builder.AddMarkupContent(55, "\r\n                    ");
            __builder.OpenElement(56, "tr");
            __builder.AddMarkupContent(57, "\r\n                        ");
            __builder.OpenElement(58, "td");
            __builder.AddMarkupContent(59, "<b>Tile</b>: ");
            __builder.OpenElement(60, "input");
            __builder.AddAttribute(61, "type", "text");
            __builder.AddAttribute(62, "style", "width: 48px;");
            __builder.AddAttribute(63, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 43 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   SelectedTileIndex

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(64, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => SelectedTileIndex = __value, SelectedTileIndex));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\r\n                        ");
            __builder.OpenElement(66, "td");
            __builder.AddAttribute(67, "style", "width: 40px;");
            __builder.OpenElement(68, "div");
            __builder.AddAttribute(69, "class", "tile" + " tile-" + (
#nullable restore
#line 44 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                        SelectedTileIndex

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(70, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(71, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(72, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(73, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(74);
            __builder.AddAttribute(75, "Text", "Pen");
            __builder.AddAttribute(76, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 48 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                             Mode == DrawMode.Pen

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(77, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 48 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                    () => SetMode(DrawMode.Pen)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(78, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(79);
            __builder.AddAttribute(80, "Text", "Rectangle");
            __builder.AddAttribute(81, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 49 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                   Mode == DrawMode.Rectangle

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(82, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 49 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                                () => SetMode(DrawMode.Rectangle)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(83, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(84);
            __builder.AddAttribute(85, "Text", "Line");
            __builder.AddAttribute(86, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 50 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                              Mode == DrawMode.Line

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(87, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 50 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                      () => SetMode(DrawMode.Line)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(88, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(89);
            __builder.AddAttribute(90, "Text", "Fill");
            __builder.AddAttribute(91, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 51 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                              Mode == DrawMode.Fill

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(92, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 51 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                      () => SetMode(DrawMode.Fill)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(93, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(94);
            __builder.AddAttribute(95, "Text", "Copy");
            __builder.AddAttribute(96, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 52 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                              Mode == DrawMode.Copy

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(97, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 52 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                      () => SetMode(DrawMode.Copy)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(98, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(99);
            __builder.AddAttribute(100, "Text", "Remove");
            __builder.AddAttribute(101, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 53 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                Mode == DrawMode.Remove

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(102, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 53 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                          () => SetMode(DrawMode.Remove)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(103, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(104, "\r\n        ");
            __builder.OpenElement(105, "fieldset");
            __builder.AddMarkupContent(106, "\r\n            ");
            __builder.AddMarkupContent(107, "<legend>Layers</legend>\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(108);
            __builder.AddAttribute(109, "Text", "Overlay");
            __builder.AddAttribute(110, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 57 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                 Layer == 2

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(111, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 57 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                              () => SetLayer(2)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(112, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(113);
            __builder.AddAttribute(114, "Text", "Solid");
            __builder.AddAttribute(115, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 58 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                               Layer == 1

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(116, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 58 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                            () => SetLayer(1)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(117, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.EditorButton>(118);
            __builder.AddAttribute(119, "Text", "Floor");
            __builder.AddAttribute(120, "Active", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 59 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                               Layer == 0

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(121, "OnClickCallback", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 59 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                            () => SetLayer(0)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(122, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(123, "\r\n        ");
            __builder.OpenElement(124, "fieldset");
            __builder.AddMarkupContent(125, "\r\n            ");
            __builder.AddMarkupContent(126, "<legend>Nav</legend>\r\n            ");
            __builder.OpenElement(127, "table");
            __builder.AddAttribute(128, "class", "table-borderless");
            __builder.AddMarkupContent(129, "\r\n                ");
            __builder.OpenElement(130, "tr");
            __builder.AddMarkupContent(131, "\r\n                    <td></td>\r\n                    ");
            __builder.OpenElement(132, "td");
            __builder.OpenElement(133, "button");
            __builder.AddAttribute(134, "class", "button-stretch button-small button-nav");
            __builder.AddAttribute(135, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 66 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                         () => Move(0, -5)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(136, "Up");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(137, "\r\n                    <td></td>\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(138, "\r\n                ");
            __builder.OpenElement(139, "tr");
            __builder.AddMarkupContent(140, "\r\n                    ");
            __builder.OpenElement(141, "td");
            __builder.OpenElement(142, "button");
            __builder.AddAttribute(143, "class", "button-stretch button-small button-nav");
            __builder.AddAttribute(144, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 70 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                         () => Move(-5, 0)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(145, "Left");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(146, "\r\n                    ");
            __builder.OpenElement(147, "td");
            __builder.OpenElement(148, "button");
            __builder.AddAttribute(149, "class", "button-stretch button-small button-nav");
            __builder.AddAttribute(150, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 71 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                         () => Move(-Position.X, -Position.Y)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(151, "Reset");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(152, "\r\n                    ");
            __builder.OpenElement(153, "td");
            __builder.OpenElement(154, "button");
            __builder.AddAttribute(155, "class", "button-stretch button-small button-nav");
            __builder.AddAttribute(156, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 72 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                         () => Move(5, 0)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(157, "Right");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(158, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(159, "\r\n                ");
            __builder.OpenElement(160, "tr");
            __builder.AddMarkupContent(161, "\r\n                    <td></td>\r\n                    ");
            __builder.OpenElement(162, "td");
            __builder.OpenElement(163, "button");
            __builder.AddAttribute(164, "class", "button-stretch button-small button-nav");
            __builder.AddAttribute(165, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 76 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                         () => Move(0, 5)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(166, "Down");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(167, "\r\n                    <td></td>\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(168, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(169, "\r\n            <hr>\r\n            ");
            __builder.AddMarkupContent(170, "<b>Todo</b>\r\n            ");
            __builder.AddMarkupContent(171, @"<ul>
                <li>Show coordinates</li>
                <li>Move to coordinates</li>
                <li>Create/save marker</li>
                <li>Teleport to marker</li>
                <li>Delete marker</li>
                <li>Map size (small/large)</li>
            </ul>
        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(172, "\r\n        ");
            __builder.AddMarkupContent(173, "<p style=\"font-size: 85%; color: #999; text-align: center;\">\r\n            RPG Editor v0.1 (alpha)\r\n        </p>\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(174, "\r\n    ");
            __builder.OpenElement(175, "div");
            __builder.AddAttribute(176, "class", "editor-panel");
            __builder.AddMarkupContent(177, "\r\n        ");
            __builder.OpenElement(178, "div");
            __builder.AddAttribute(179, "class", "map-panel");
            __builder.AddMarkupContent(180, "\r\n            ");
            __builder.OpenElement(181, "div");
            __builder.AddAttribute(182, "class", "map");
            __builder.AddMarkupContent(183, "\r\n");
#nullable restore
#line 98 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                 if (Map != null)
                {
                    for (int y = 0; y < 25; y++)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(184, "                        ");
            __builder.OpenElement(185, "div");
            __builder.AddAttribute(186, "class", "map-row");
            __builder.AddMarkupContent(187, "\r\n");
#nullable restore
#line 103 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                             for (int x = 0; x < 25; x++)
                            {
                                (int x, int y) position = (x + Position.X, y + Position.Y);

#line default
#line hidden
#nullable disable
            __builder.AddContent(188, "                                ");
            __builder.OpenElement(189, "div");
            __builder.AddAttribute(190, "class", "map-tile");
            __builder.AddAttribute(191, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 106 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                () => Click(position)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(192, "onkeydown", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 106 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                                                   KeyboardHandler

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(193, "\r\n");
#nullable restore
#line 107 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                     for (int layer = 0; layer < Map.Layers; layer++)
                                    {
                                        var tileId = Map[layer, position.x, position.y];
                                        if (tileId != 0)
                                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(194, "                                            ");
            __builder.OpenElement(195, "div");
            __builder.AddAttribute(196, "class", "map-tile-layer");
            __builder.AddMarkupContent(197, "\r\n                                                ");
            __builder.OpenElement(198, "div");
            __builder.AddAttribute(199, "class", "tile" + " tile-" + (
#nullable restore
#line 113 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       tileId

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(200, "\r\n                                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(201, "\r\n");
#nullable restore
#line 115 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                        }
                                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(202, "                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(203, "\r\n");
#nullable restore
#line 118 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(204, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(205, "\r\n");
#nullable restore
#line 120 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                    }
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(206, "                    ");
            __builder.AddMarkupContent(207, "<div style=\"width: 100%; text-align: center; margin-top: 360px; font-size: 36pt; color: #111; font-weight: bold;\">NO MAP DATA</div>\r\n");
#nullable restore
#line 125 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(208, "                <div style=\"clear: both;\"></div>\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(209, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(210, "\r\n        ");
            __builder.OpenElement(211, "div");
            __builder.AddAttribute(212, "class", "tile-panel");
            __builder.AddMarkupContent(213, "\r\n            ");
            __builder.OpenComponent<DungeonRpg.Pages.TilesetViewer>(214);
            __builder.AddAttribute(215, "TileIndex", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32>(
#nullable restore
#line 130 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                      SelectedTileIndex

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(216, "TileChanged", new System.Action<System.Int32>(
#nullable restore
#line 130 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                      OnTileChanged

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(217, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(218, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(219, "\r\n    ");
            __builder.OpenElement(220, "div");
            __builder.AddAttribute(221, "class", "editor-properties");
            __builder.AddMarkupContent(222, "\r\n\r\n        \r\n        ");
            __builder.OpenElement(223, "fieldset");
            __builder.AddMarkupContent(224, "\r\n            ");
            __builder.AddMarkupContent(225, "<legend>Maps</legend>\r\n            ");
            __builder.OpenElement(226, "table");
            __builder.AddAttribute(227, "class", "table-condensed");
            __builder.AddMarkupContent(228, "\r\n                ");
            __builder.AddMarkupContent(229, @"<thead>
                    <tr>
                        <td>Map</td>
                        <td>Description</td>
                        <td>Width</td>
                        <td>Height</td>
                        <td></td>
                    </tr>
                </thead>
                ");
            __builder.OpenElement(230, "tbody");
            __builder.AddMarkupContent(231, "\r\n");
#nullable restore
#line 149 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                     foreach (var map in mapService.All())
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(232, "                        ");
            __builder.OpenElement(233, "tr");
            __builder.AddMarkupContent(234, "\r\n                            ");
            __builder.OpenElement(235, "td");
            __builder.AddAttribute(236, "class", "form-xlarge");
            __builder.OpenElement(237, "input");
            __builder.AddAttribute(238, "type", "text");
            __builder.AddAttribute(239, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 152 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                              map.Name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(240, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => map.Name = __value, map.Name));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(241, "\r\n                            ");
            __builder.OpenElement(242, "td");
            __builder.OpenElement(243, "input");
            __builder.AddAttribute(244, "type", "text");
            __builder.AddAttribute(245, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 153 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                          map.Description

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(246, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => map.Description = __value, map.Description));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(247, "\r\n                            ");
            __builder.OpenElement(248, "td");
            __builder.AddAttribute(249, "class", "form-small");
            __builder.OpenElement(250, "input");
            __builder.AddAttribute(251, "type", "text");
            __builder.AddAttribute(252, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 154 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                             map.Width

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(253, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => map.Width = __value, map.Width));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(254, "\r\n                            ");
            __builder.OpenElement(255, "td");
            __builder.AddAttribute(256, "class", "form-small");
            __builder.OpenElement(257, "input");
            __builder.AddAttribute(258, "type", "text");
            __builder.AddAttribute(259, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 155 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                             map.Height

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(260, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => map.Height = __value, map.Height));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(261, "\r\n                            ");
            __builder.OpenElement(262, "td");
            __builder.AddAttribute(263, "class", "form-large");
            __builder.AddMarkupContent(264, "\r\n                                ");
            __builder.OpenElement(265, "button");
            __builder.AddAttribute(266, "class", "button-small");
            __builder.AddAttribute(267, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 157 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       () => OpenMap(map)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(268, "open");
            __builder.CloseElement();
            __builder.AddMarkupContent(269, "\r\n                                ");
            __builder.OpenElement(270, "button");
            __builder.AddAttribute(271, "class", "button-small");
            __builder.AddAttribute(272, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 158 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       () => map.Resize()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(273, "resize");
            __builder.CloseElement();
            __builder.AddMarkupContent(274, "\r\n                                ");
            __builder.OpenElement(275, "button");
            __builder.AddAttribute(276, "class", "button-small");
            __builder.AddAttribute(277, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 159 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       () => mapService.Remove(map)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(278, "delete");
            __builder.CloseElement();
            __builder.AddMarkupContent(279, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(280, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(281, "\r\n");
#nullable restore
#line 162 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(282, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(283, "\r\n                ");
            __builder.OpenElement(284, "tfoot");
            __builder.AddMarkupContent(285, "\r\n                    ");
            __builder.OpenElement(286, "tr");
            __builder.AddMarkupContent(287, "\r\n                        ");
            __builder.OpenElement(288, "td");
            __builder.AddAttribute(289, "colspan", "5");
            __builder.OpenElement(290, "button");
            __builder.AddAttribute(291, "class", "button-small");
            __builder.AddAttribute(292, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 166 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                               () => mapService.New()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(293, "new");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(294, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(295, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(296, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(297, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(298, "\r\n\r\n        \r\n        ");
            __builder.OpenElement(299, "fieldset");
            __builder.AddMarkupContent(300, "\r\n            ");
            __builder.AddMarkupContent(301, "<legend>Items</legend>\r\n            ");
            __builder.OpenElement(302, "table");
            __builder.AddAttribute(303, "class", "table-condensed");
            __builder.AddMarkupContent(304, "\r\n                ");
            __builder.AddMarkupContent(305, @"<thead>
                    <tr>
                        <td>Name</td>
                        <td>Description</td>
                        <td>Type</td>
                        <td>Pages</td>
                        <td></td>
                    </tr>
                </thead>
                ");
            __builder.OpenElement(306, "tbody");
            __builder.AddMarkupContent(307, "\r\n");
#nullable restore
#line 186 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                     foreach (var item in itemService.All())
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(308, "                        ");
            __builder.OpenElement(309, "tr");
            __builder.AddMarkupContent(310, "\r\n                            ");
            __builder.OpenElement(311, "td");
            __builder.AddAttribute(312, "class", "form-large");
            __builder.OpenElement(313, "input");
            __builder.AddAttribute(314, "type", "text");
            __builder.AddAttribute(315, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 189 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                             item.Name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(316, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => item.Name = __value, item.Name));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(317, "\r\n                            ");
            __builder.OpenElement(318, "td");
            __builder.OpenElement(319, "input");
            __builder.AddAttribute(320, "type", "text");
            __builder.AddAttribute(321, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 190 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                          item.Description

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(322, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => item.Description = __value, item.Description));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(323, "\r\n                            ");
            __builder.OpenElement(324, "td");
            __builder.AddAttribute(325, "class", "form-medium");
            __builder.AddContent(326, 
#nullable restore
#line 191 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                     Item.GetItemType(item)

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(327, "\r\n                            ");
            __builder.OpenElement(328, "td");
            __builder.AddAttribute(329, "class", "form-small");
            __builder.AddMarkupContent(330, "\r\n");
#nullable restore
#line 193 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                 if(item is Book book)
                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(331, "                                    ");
            __builder.OpenElement(332, "input");
            __builder.AddAttribute(333, "type", "text");
            __builder.AddAttribute(334, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 195 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                              book.Pages

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(335, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => book.Pages = __value, book.Pages));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(336, "\r\n");
#nullable restore
#line 196 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(337, "                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(338, "\r\n                            ");
            __builder.OpenElement(339, "td");
            __builder.AddAttribute(340, "class", "form-medium");
            __builder.AddMarkupContent(341, "\r\n                                ");
            __builder.OpenElement(342, "button");
            __builder.AddAttribute(343, "class", "button-small");
            __builder.AddAttribute(344, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 199 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       () => itemService.Remove(item)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(345, "delete");
            __builder.CloseElement();
            __builder.AddMarkupContent(346, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(347, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(348, "\r\n");
#nullable restore
#line 202 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(349, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(350, "\r\n                ");
            __builder.OpenElement(351, "tfoot");
            __builder.AddMarkupContent(352, "\r\n                    ");
            __builder.OpenElement(353, "tr");
            __builder.AddMarkupContent(354, "\r\n                        ");
            __builder.OpenElement(355, "td");
            __builder.AddAttribute(356, "colspan", "5");
            __builder.AddMarkupContent(357, "\r\n                            ");
            __builder.OpenElement(358, "button");
            __builder.AddAttribute(359, "class", "button-small");
            __builder.AddAttribute(360, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 207 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   () => itemService.New()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(361, "new item");
            __builder.CloseElement();
            __builder.AddMarkupContent(362, "\r\n                            ");
            __builder.OpenElement(363, "button");
            __builder.AddAttribute(364, "class", "button-small");
            __builder.AddAttribute(365, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 208 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   () => itemService.New(ItemType.Weapon)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(366, "new weapon");
            __builder.CloseElement();
            __builder.AddMarkupContent(367, "\r\n                            ");
            __builder.OpenElement(368, "button");
            __builder.AddAttribute(369, "class", "button-small");
            __builder.AddAttribute(370, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 209 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   () => itemService.New(ItemType.Armor)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(371, "new armor");
            __builder.CloseElement();
            __builder.AddMarkupContent(372, "\r\n                            ");
            __builder.OpenElement(373, "button");
            __builder.AddAttribute(374, "class", "button-small");
            __builder.AddAttribute(375, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 210 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   () => itemService.New(ItemType.Jewelry)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(376, "new jewelry");
            __builder.CloseElement();
            __builder.AddMarkupContent(377, "\r\n                            ");
            __builder.OpenElement(378, "button");
            __builder.AddAttribute(379, "class", "button-small");
            __builder.AddAttribute(380, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 211 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   () => itemService.New(ItemType.Consumable)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(381, "new consumable");
            __builder.CloseElement();
            __builder.AddMarkupContent(382, "\r\n                            ");
            __builder.OpenElement(383, "button");
            __builder.AddAttribute(384, "class", "button-small");
            __builder.AddAttribute(385, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 212 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   () => itemService.New(ItemType.Book)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(386, "new book");
            __builder.CloseElement();
            __builder.AddMarkupContent(387, "\r\n                            ");
            __builder.OpenElement(388, "button");
            __builder.AddAttribute(389, "class", "button-small");
            __builder.AddAttribute(390, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 213 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                   () => itemService.New(ItemType.Material)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(391, "new material");
            __builder.CloseElement();
            __builder.AddMarkupContent(392, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(393, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(394, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(395, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(396, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(397, "\r\n\r\n        \r\n        ");
            __builder.OpenElement(398, "fieldset");
            __builder.AddMarkupContent(399, "\r\n            ");
            __builder.AddMarkupContent(400, "<legend>Players</legend>\r\n            ");
            __builder.OpenElement(401, "table");
            __builder.AddAttribute(402, "class", "table-condensed");
            __builder.AddMarkupContent(403, "\r\n                ");
            __builder.AddMarkupContent(404, "<thead>\r\n                    <tr>\r\n                        <td>ID</td>\r\n                        <td>Name</td>\r\n                        <td></td>\r\n                    </tr>\r\n                </thead>\r\n                ");
            __builder.OpenElement(405, "tbody");
            __builder.AddMarkupContent(406, "\r\n");
#nullable restore
#line 232 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                     foreach (var player in playerService.All())
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(407, "                        ");
            __builder.OpenElement(408, "tr");
            __builder.AddMarkupContent(409, "\r\n                            ");
            __builder.OpenElement(410, "td");
            __builder.AddAttribute(411, "class", "form-xlarge");
            __builder.OpenElement(412, "input");
            __builder.AddAttribute(413, "type", "text");
            __builder.AddAttribute(414, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 235 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                              player.Id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(415, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => player.Id = __value, player.Id));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(416, "\r\n                            ");
            __builder.OpenElement(417, "td");
            __builder.OpenElement(418, "input");
            __builder.AddAttribute(419, "type", "text");
            __builder.AddAttribute(420, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 236 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                          player.Name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(421, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => player.Name = __value, player.Name));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(422, "\r\n                            ");
            __builder.OpenElement(423, "td");
            __builder.AddAttribute(424, "class", "form-medium");
            __builder.AddMarkupContent(425, "\r\n                                ");
            __builder.OpenElement(426, "button");
            __builder.AddAttribute(427, "class", "button-small");
            __builder.AddAttribute(428, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 238 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       () => playerService.Remove(player)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(429, "delete");
            __builder.CloseElement();
            __builder.AddMarkupContent(430, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(431, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(432, "\r\n");
#nullable restore
#line 241 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(433, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(434, "\r\n                ");
            __builder.OpenElement(435, "tfoot");
            __builder.AddMarkupContent(436, "\r\n                    ");
            __builder.OpenElement(437, "tr");
            __builder.AddMarkupContent(438, "\r\n                        ");
            __builder.OpenElement(439, "td");
            __builder.AddAttribute(440, "colspan", "5");
            __builder.OpenElement(441, "button");
            __builder.AddAttribute(442, "class", "button-small");
            __builder.AddAttribute(443, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 245 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                               () => playerService.New()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(444, "new");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(445, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(446, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(447, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(448, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(449, "\r\n\r\n        \r\n        ");
            __builder.OpenElement(450, "fieldset");
            __builder.AddMarkupContent(451, "\r\n            ");
            __builder.AddMarkupContent(452, "<legend>Enemies</legend>\r\n            ");
            __builder.OpenElement(453, "table");
            __builder.AddAttribute(454, "class", "table-condensed");
            __builder.AddMarkupContent(455, "\r\n                ");
            __builder.AddMarkupContent(456, "<thead>\r\n                    <tr>\r\n                        <td>ID</td>\r\n                        <td>Name</td>\r\n                        <td></td>\r\n                    </tr>\r\n                </thead>\r\n                ");
            __builder.OpenElement(457, "tbody");
            __builder.AddMarkupContent(458, "\r\n");
#nullable restore
#line 263 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                     foreach (var enemy in enemyService.All())
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(459, "                        ");
            __builder.OpenElement(460, "tr");
            __builder.AddMarkupContent(461, "\r\n                            ");
            __builder.OpenElement(462, "td");
            __builder.AddAttribute(463, "class", "form-xlarge");
            __builder.OpenElement(464, "input");
            __builder.AddAttribute(465, "type", "text");
            __builder.AddAttribute(466, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 266 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                              enemy.Id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(467, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => enemy.Id = __value, enemy.Id));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(468, "\r\n                            ");
            __builder.OpenElement(469, "td");
            __builder.OpenElement(470, "input");
            __builder.AddAttribute(471, "type", "text");
            __builder.AddAttribute(472, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 267 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                          enemy.Name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(473, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => enemy.Name = __value, enemy.Name));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(474, "\r\n                            ");
            __builder.OpenElement(475, "td");
            __builder.AddAttribute(476, "class", "form-medium");
            __builder.AddMarkupContent(477, "\r\n                                ");
            __builder.OpenElement(478, "button");
            __builder.AddAttribute(479, "class", "button-small");
            __builder.AddAttribute(480, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 269 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       () => enemyService.Remove(enemy)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(481, "delete");
            __builder.CloseElement();
            __builder.AddMarkupContent(482, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(483, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(484, "\r\n");
#nullable restore
#line 272 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(485, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(486, "\r\n                ");
            __builder.OpenElement(487, "tfoot");
            __builder.AddMarkupContent(488, "\r\n                    ");
            __builder.OpenElement(489, "tr");
            __builder.AddMarkupContent(490, "\r\n                        ");
            __builder.OpenElement(491, "td");
            __builder.AddAttribute(492, "colspan", "5");
            __builder.OpenElement(493, "button");
            __builder.AddAttribute(494, "class", "button-small");
            __builder.AddAttribute(495, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 276 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                               () => enemyService.New()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(496, "new");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(497, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(498, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(499, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(500, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(501, "\r\n\r\n        \r\n        ");
            __builder.OpenElement(502, "fieldset");
            __builder.AddMarkupContent(503, "\r\n            ");
            __builder.AddMarkupContent(504, "<legend>NPCs</legend>\r\n            ");
            __builder.OpenElement(505, "table");
            __builder.AddAttribute(506, "class", "table-condensed");
            __builder.AddMarkupContent(507, "\r\n                ");
            __builder.AddMarkupContent(508, "<thead>\r\n                    <tr>\r\n                        <td>ID</td>\r\n                        <td>Name</td>\r\n                        <td></td>\r\n                    </tr>\r\n                </thead>\r\n                ");
            __builder.OpenElement(509, "tbody");
            __builder.AddMarkupContent(510, "\r\n");
#nullable restore
#line 294 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                     foreach (var npc in npcService.All())
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(511, "                        ");
            __builder.OpenElement(512, "tr");
            __builder.AddMarkupContent(513, "\r\n                            ");
            __builder.OpenElement(514, "td");
            __builder.AddAttribute(515, "class", "form-xlarge");
            __builder.OpenElement(516, "input");
            __builder.AddAttribute(517, "type", "text");
            __builder.AddAttribute(518, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 297 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                              npc.Id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(519, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => npc.Id = __value, npc.Id));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(520, "\r\n                            ");
            __builder.OpenElement(521, "td");
            __builder.OpenElement(522, "input");
            __builder.AddAttribute(523, "type", "text");
            __builder.AddAttribute(524, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 298 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                          npc.Name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(525, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => npc.Name = __value, npc.Name));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(526, "\r\n                            ");
            __builder.OpenElement(527, "td");
            __builder.AddAttribute(528, "class", "form-medium");
            __builder.AddMarkupContent(529, "\r\n                                ");
            __builder.OpenElement(530, "button");
            __builder.AddAttribute(531, "class", "button-small");
            __builder.AddAttribute(532, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 300 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                       () => npcService.Remove(npc)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(533, "delete");
            __builder.CloseElement();
            __builder.AddMarkupContent(534, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(535, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(536, "\r\n");
#nullable restore
#line 303 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(537, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(538, "\r\n                ");
            __builder.OpenElement(539, "tfoot");
            __builder.AddMarkupContent(540, "\r\n                    ");
            __builder.OpenElement(541, "tr");
            __builder.AddMarkupContent(542, "\r\n                        ");
            __builder.OpenElement(543, "td");
            __builder.AddAttribute(544, "colspan", "5");
            __builder.OpenElement(545, "button");
            __builder.AddAttribute(546, "class", "button-small");
            __builder.AddAttribute(547, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 307 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
                                                                               () => npcService.New()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(548, "new");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(549, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(550, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(551, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(552, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(553, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(554, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 315 "C:\Users\Isomorphism\Documents\Repos\DungeonRpg\DungeonRpg\Pages\Editor.razor"
       
    private Map Map { get; set; }
    private enum DrawMode { Pen, Line, Rectangle, Fill, Copy, Remove };
    private DrawMode Mode { get; set; }
    private int SelectedTileIndex = 951;
    private Timer AutoSaveTimer;
    private bool EnableAutoSave = true;
    private int Layer = 0;
    private (int X, int Y) Position = (0, 0);
    private DateTime LastSaveTime = DateTime.MinValue;
    private Timer UpdateTimer;

    protected override void OnInitialized()
    {
        AutoSaveTimer = new Timer();
        AutoSaveTimer.Interval = 1000 * 60;
        AutoSaveTimer.Elapsed += AutoSave;
        AutoSaveTimer.AutoReset = true;
        AutoSaveTimer.Start();
        UpdateTimer = new Timer();
        UpdateTimer.Interval = 200;
        UpdateTimer.AutoReset = true;
        UpdateTimer.Elapsed += UpdateTimerElapsed;
        UpdateTimer.Start();
        base.OnInitialized();
    }

    private void UpdateTimerElapsed(object sender, EventArgs args)
    {
        InvokeAsync(StateHasChanged);
    }

    void OnTileChanged(int index)
    {
        // Called from child component, so we need to notify 
        // the parent that the state has changed.
        SelectedTileIndex = index;
        StateHasChanged();
    }

    private void Save()
    {
        mapService.Save();
        itemService.Save();
        npcService.Save();
        enemyService.Save();
        playerService.Save();
        LastSaveTime = DateTime.Now;
    }

    private void OpenMap(Map map)
    {
        Map = map;
    }

    private void SetMode(DrawMode mode)
    {
        Mode = mode;
    }

    private void SetLayer(int layer)
    {
        Layer = layer;
    }

    private void AutoSave(object sender, EventArgs args)
    {
        if(EnableAutoSave)
        {
            Save();
        }
    }

    private void KeyboardHandler(KeyboardEventArgs args)
    {
        if(args.CtrlKey && args.Key == "s")
        {
            Save();
        }
    }

    private void Click((int x, int y) position)
    {
        switch(Mode)
        {
            case DrawMode.Pen:
                Map[Layer, position.x, position.y] = SelectedTileIndex;
                break;
            case DrawMode.Remove:
                Map[Layer, position.x, position.y] = 0;
                break;
            case DrawMode.Copy:
                SelectedTileIndex = Map[Layer, position.x, position.y];
                Mode = DrawMode.Pen;
                break;
            case DrawMode.Fill:
                Map.FloorFill(Layer, position.x, position.y, SelectedTileIndex);
                break;
        }
    }

    private void Move(int x, int y)
    {
        Position.X += x;
        Position.Y += y;
        StateHasChanged();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private PlayerService playerService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private EnemyService enemyService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NpcService npcService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ItemService itemService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ComponentService componentService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private MapService mapService { get; set; }
    }
}
#pragma warning restore 1591
